
<!doctype html>
<html lang="id">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Checklist Packing Interaktif</title>
  <style>
    :root{
      --bg1:#0f172a; --bg2:#0ea5e9; --card:#0b1220; --accent:#10b981;
    }
    *{box-sizing:border-box}
    body{
      margin:0; min-height:100vh; font-family:Inter, system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial;
      background:linear-gradient(135deg,var(--bg1), #071035 40%, var(--bg2));
      color:#e6eef8; display:flex; align-items:center; justify-content:center; padding:3rem;
    }
    .wrap{width:100%; max-width:820px; background:linear-gradient(180deg, rgba(255,255,255,0.03), rgba(255,255,255,0.01)); border-radius:14px; padding:24px; box-shadow:0 10px 30px rgba(2,6,23,0.6);}
    header{display:flex; align-items:center; gap:16px; margin-bottom:12px}
    .logo{width:56px; height:56px; border-radius:12px; background:linear-gradient(135deg,#7c3aed,#06b6d4); display:flex; align-items:center; justify-content:center; font-weight:700}
    h1{margin:0;font-size:20px}
    p.lead{margin:0;color:rgba(230,238,248,0.8); font-size:14px}
    .list{margin-top:18px; display:grid; gap:10px;}
    .item{display:flex; gap:12px; align-items:center; padding:14px; border-radius:10px; background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(0,0,0,0.02)); border:1px solid rgba(255,255,255,0.04); transition:transform .18s ease, box-shadow .18s ease;}
    .item:hover{transform:translateY(-4px); box-shadow:0 8px 20px rgba(2,6,23,0.5)}
    .checkwrap{width:36px; height:36px; border-radius:8px; background:rgba(255,255,255,0.02); display:flex; align-items:center; justify-content:center; cursor:pointer; transition:all .18s}
    input[type=checkbox]{appearance:none; width:24px; height:24px; border-radius:6px; border:2px solid rgba(255,255,255,0.12); display:block; position:relative; transition:all .25s ease;}
    input[type=checkbox]:checked{background:linear-gradient(135deg,var(--accent), #34d399); border-color:transparent; box-shadow:0 6px 18px rgba(16,185,129,0.18); transform:scale(1.2);}
    input[type=checkbox]:checked::after{content:'✓'; color:#06281a; font-weight:700; position:absolute; left:4px; top:-2px; opacity:0; animation:fadeInCheck .3s forwards;}
    @keyframes fadeInCheck{from{opacity:0; transform:scale(0.5);} to{opacity:1; transform:scale(1);}}
    .meta{flex:1}
    .meta h3{margin:0; font-size:15px}
    .meta p{margin:2px 0 0 0; font-size:13px; color:rgba(230,238,248,0.75)}
    .controls{display:flex; gap:8px; align-items:center; margin-top:14px}
    button.btn{background:rgba(255,255,255,0.03); border:1px solid rgba(255,255,255,0.06); padding:10px 12px; border-radius:10px; color:inherit; cursor:pointer}
    button.primary{background:linear-gradient(90deg,#7c3aed,#06b6d4); border:0}
    .progress{height:10px; background:rgba(255,255,255,0.03); border-radius:10px; overflow:hidden; margin-top:14px}
    .bar{height:100%; width:0%; background:linear-gradient(90deg,var(--accent), #34d399); transition:width .45s cubic-bezier(.22,.9,.2,1)}
    .overlay{position:fixed; inset:0; display:none; align-items:center; justify-content:center; background:linear-gradient(180deg, rgba(2,6,23,0.6), rgba(2,6,23,0.8)); z-index:1200}
    .card{background:linear-gradient(180deg, rgba(255,255,255,0.03), rgba(255,255,255,0.01)); padding:32px; border-radius:14px; text-align:center; box-shadow:0 20px 60px rgba(2,6,23,0.7)}
    .card h2{margin:0 0 8px 0; font-size:32px}
    .card p{margin:0 0 16px 0}
    .sparkle{font-size:28px; margin-right:6px}
    .confetti{position:fixed; inset:0; pointer-events:none; overflow:hidden; z-index:1250}
    .confetti .piece{position:absolute; width:10px; height:14px; opacity:0.95; transform:translateY(-10vh); animation:fall linear forwards}
    @keyframes fall{to{transform:translateY(110vh) rotate(360deg); opacity:1}}
    @media (max-width:560px){ .wrap{padding:16px} .card h2{font-size:24px} }
  </style>
</head>
<body>
  <div class="wrap" role="main">
    <header>
      <div class="logo">PK</div>
      <div>
        <h1>Checklist Packing</h1>
        <p class="lead">Centang semua item — nanti muncul pesan selamat kalau semua beres.</p>
      </div>
    </header>
    <div class="list" id="checklist"></div>
    <div class="progress" aria-hidden="true"><div class="bar" id="bar"></div></div>
    <div class="controls">
      <button class="btn" id="reset">Reset</button>
      <button class="btn primary" id="checkAll">Centang Semua</button>
      <div style="flex:1"></div>
      <small id="countText">0 / 17</small>
    </div>
  </div>

  <div class="overlay" id="overlay" role="dialog" aria-modal="true">
    <div class="card">
      <div style="display:flex;align-items:center;justify-content:center">
        <div class="sparkle">✨</div>
        <h2>Selamat yaa!</h2>
      </div>
      <p>Kamu udah siap — semua barang udah dicentang!</p>
      <div style="margin-top:14px"><button class="btn" id="closeOverlay">Oke</button></div>
    </div>
  </div>
  <div class="confetti" id="confetti"></div>

  <!-- Suara -->
  <audio id="checkSound" src="alaram.mp3" preload="auto"></audio>
  <audio id="victorySound" src="cihuy.mp3" preload="auto"></audio>

  <script>
    const items = [
      'ID / kartu pelajar / izin orang tua','Uang saku + dompet kecil','HP + charger + powerbank',
      'Obat pribadi (sakit kepala, maag, plester)','Masker & hand sanitizer','Baju sesuai cuaca + baju ganti',
      'Jaket / hoodie','Sepatu nyaman','Topi / kacamata hitam','Sunscreen','Jas hujan / payung lipat',
      'Buku catatan + pulpen','Kamera / HP buat foto/video','Snack ringan','Botol minum isi ulang',
      'Tas ransel kecil sehari','Kantong plastik / ziplock buat baju kotor / basah'
    ];
    const listEl = document.getElementById('checklist');
    const bar = document.getElementById('bar');
    const countText = document.getElementById('countText');
    const overlay = document.getElementById('overlay');
    const confettiWrap = document.getElementById('confetti');
    const checkSound = document.getElementById('checkSound');
    const victorySound = document.getElementById('victorySound');

    function createItem(text, idx){
      const it = document.createElement('label');
      it.className = 'item';
      it.innerHTML = `
        <div class="checkwrap"><input type="checkbox" data-idx="${idx}" /></div>
        <div class="meta"><h3>${idx+1}. ${text}</h3><p>Centang kalau udah siap</p></div>
      `;
      return it;
    }
    items.forEach((t,i)=> listEl.appendChild(createItem(t,i)));
    const checkboxes = Array.from(document.querySelectorAll('input[type=checkbox]'));

    function updateProgress(){
      const checked = checkboxes.filter(c=>c.checked).length;
      const total = checkboxes.length;
      const percent = Math.round((checked/total)*100);
      bar.style.width = percent + '%';
      countText.textContent = `${checked} / ${total}`;
      if(checked === total){ showCongrats(); }
    }

    checkboxes.forEach(ch=> ch.addEventListener('change', ()=>{
      ch.style.transition = 'transform 0.25s ease';
      ch.style.transform = 'scale(1.4)';
      setTimeout(()=>{ ch.style.transform = 'scale(1)'; }, 250);
      checkSound.currentTime = 0; checkSound.play();
      updateProgress();
    }));

    document.getElementById('checkAll').addEventListener('click', ()=>{ checkboxes.forEach(c=> c.checked = true); updateProgress(); });
    document.getElementById('reset').addEventListener('click', ()=>{ checkboxes.forEach(c=> c.checked = false); updateProgress(); });
    document.getElementById('closeOverlay').addEventListener('click', ()=>{ hideCongrats(); });
    overlay.addEventListener('click', (e)=>{ if(e.target === overlay) hideCongrats(); });

    function showCongrats(){
      if(overlay.style.display === 'flex') return;
      overlay.style.display = 'flex';
      spawnConfetti(90);
      victorySound.currentTime = 0; victorySound.play();
      setTimeout(()=>{ victorySound.pause(); victorySound.currentTime = 0; }, 5000); // stop setelah 5 detik
    }
    function hideCongrats(){ overlay.style.display = 'none'; confettiWrap.innerHTML = ''; }
    function spawnConfetti(n){
      const colors = ['#ef4444','#f59e0b','#10b981','#06b6d4','#7c3aed','#ec4899'];
      for(let i=0;i<n;i++){
        const el = document.createElement('div'); el.className = 'piece';
        const w = 8 + Math.random()*10;
        el.style.width = w + 'px'; el.style.height = (w*1.2) + 'px';
        el.style.left = (Math.random()*100) + '%';
        el.style.background = colors[Math.floor(Math.random()*colors.length)];
        el.style.transform = `translateY(-20vh) rotate(${Math.random()*360}deg)`;
        el.style.animationDuration = (3 + Math.random()*3) + 's';
        el.style.animationDelay = (Math.random()*0.6) + 's';
        el.style.opacity = 0.95;
        confettiWrap.appendChild(el);
      }
    }
    updateProgress();
    listEl.addEventListener('keydown', (e)=>{
      if(e.key === ' ' || e.key === 'Enter'){
        const input = e.target.querySelector('input[type=checkbox]');
        if(input){ input.checked = !input.checked; checkSound.currentTime = 0; checkSound.play(); updateProgress(); e.preventDefault(); }
      }
    });
  </script>
</body>
</html>
